{"version":3,"file":"static/js/134.26763eb2.chunk.js","mappings":"8LAGaA,GAAMC,EAAAA,EAAAA,GAAO,MAAPA,CACjBC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,G,kIC4EF,UAhFe,WAAO,IAAD,EACnB,GAAkCC,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCL,EAAAA,EAAAA,UAAQ,UAACI,EAAaE,IAAI,gBAAlB,QAA8B,IAAxE,eAAOC,EAAP,KAAkBC,EAAlB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,GAAKP,EAAaE,IAAI,SAAtB,CAEA,IAAMM,EAAS,mCAAG,oGACKC,EAAAA,GAAAA,mBAAuBT,EAAaE,IAAI,UAD7C,OACVQ,EADU,OAEhBZ,EAAaY,GAFG,2CAAH,qDAIfF,GANsC,CAOvC,GAAE,CAACR,IAEJ,IAKMW,EAAgB,mCAAG,WAAMC,GAAN,uEACvBA,EAAEC,kBACIC,EAA2B,KAAdX,EAAmB,CAAEY,MAAOZ,GAAc,CAAC,IAC9CF,EAAgBa,GAChCV,EAAa,IAJU,2CAAH,sDAOtB,OACE,6BACE,kBAAMY,SAAUL,EAAhB,WACE,kBACEM,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,MAAOlB,EACPmB,SArBY,SAAAV,GAClB,IAAMW,EAAOX,EAAEY,OAAOH,MAAMI,cAAcC,OAC1CtB,EAAamB,EACd,KAoBK,mBAAQN,KAAK,SAAS,aAAW,SAAjC,wBAKF,SAAC,IAAD,CAAKU,GAAG,KAAKC,QAAQ,OAAOC,cAAc,SAASC,QAAS,GAAIC,GAAI,GAApE,SACGlC,GACCA,EAAUmC,KAAI,YAA+C,IAA5CC,EAA2C,EAA3CA,GAAIC,EAAuC,EAAvCA,MAAOC,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,aACjCC,EAASF,EAAW,yCACYA,GAClC,qDAEEG,EAAUF,EACZA,EAAaG,MAAM,EAAG,GACtB,kBAEJ,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaP,GAAMQ,MAAO,CAAEC,KAAMrC,GAA1C,UACE,UAAC,IAAD,CAAKuB,QAAQ,OAAOE,QAAS,GAA7B,WACE,gBACEa,IAAKN,EACLO,IAAG,0BAAqBV,GACxBW,QAAQ,OACR,UAASZ,EACTa,MAAO,OAET,4BACE,wBAAKZ,KACL,uBAAII,aAZHL,EAkBZ,QAIV,C,2ECjFKc,EAAU,mCAChBC,IAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAmB,mCAAG,6GAERD,IAAAA,IAAA,sCAAyCD,IAFjC,cAEzBG,EAFyB,yBAGxBA,EAASC,KAAKC,SAHU,gCAK/BC,QAAQC,MAAR,MAL+B,yDAAH,qDASnBC,EAAkB,mCAAG,WAAMxC,GAAN,gGAEPiC,IAAAA,IAAA,gCACID,EADJ,kBACqBhC,IAHd,cAExBmC,EAFwB,yBAKvBA,EAASC,KAAKC,SALS,gCAO9BC,QAAQC,MAAR,MAP8B,yDAAH,sDAWlBE,EAAc,mCAAG,WAAMvB,GAAN,gGAEHe,IAAAA,IAAA,iBAAoBf,EAApB,oBAAkCc,IAF/B,cAEpBG,EAFoB,yBAGnBA,EAASC,MAHU,gCAK1BE,QAAQC,MAAM,KAAMG,SALM,yDAAH,sDASdC,EAAqB,mCAAG,WAAMzB,GAAN,gGAEVe,IAAAA,IAAA,iBAAoBf,EAApB,4BAA0Cc,IAFhC,cAE3BG,EAF2B,yBAG1BA,EAASC,MAHiB,gCAKjCE,QAAQC,MAAR,MALiC,yDAAH,sDASrBK,EAAqB,mCAAG,WAAM1B,GAAN,gGAEVe,IAAAA,IAAA,iBAAoBf,EAApB,4BAA0Cc,IAFhC,cAE3BG,EAF2B,yBAG1BA,EAASC,MAHiB,gCAKjCE,QAAQC,MAAR,MALiC,yDAAH,sDAS5B7C,EAAM,CACVwC,oBAAAA,EACAM,mBAAAA,EACAC,eAAAA,EACAE,sBAAAA,EACAC,sBAAAA,GAGF,M","sources":["components/Box.js","pages/Movies.jsx","services/movies-api.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { typography, space, color, layout, flexbox, grid } from 'styled-system';\n\nexport const Box = styled('div')(\n  typography,\n  space,\n  color,\n  layout,\n  flexbox,\n  grid\n);\n","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport api from 'services/movies-api';\nimport { Box } from 'components/Box';\n\nconst Movies = () => {\n  const [movieList, setMovieList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movieName, setMovieName] = useState(searchParams.get('query') ?? '');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!searchParams.get('query')) return;\n\n    const getMovies = async () => {\n      const movies = await api.fetchMoviesByQuery(searchParams.get('query'));\n      setMovieList(movies);\n    };\n    getMovies();\n  }, [searchParams]);\n\n  const handleInput = e => {\n    const name = e.target.value.toLowerCase().trim();\n    setMovieName(name);\n  };\n\n  const handleFormSubmit = async e => {\n    e.preventDefault();\n    const nextParams = movieName !== '' ? { query: movieName } : {};\n    if (nextParams) setSearchParams(nextParams);\n    setMovieName('');\n  };\n\n  return (\n    <main>\n      <form onSubmit={handleFormSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movie\"\n          value={movieName}\n          onChange={handleInput}\n        />\n        <button type=\"submit\" aria-label=\"search\">\n          Search\n        </button>\n      </form>\n\n      <Box as=\"ul\" display=\"flex\" flexDirection=\"column\" gridGap={15} mt={15}>\n        {movieList &&\n          movieList.map(({ id, title, poster_path, release_date }) => {\n            const imgUrl = poster_path\n              ? `https://image.tmdb.org/t/p/w500${poster_path}`\n              : 'https://via.placeholder.com/395x574?text=No+poster';\n\n            const release = release_date\n              ? release_date.slice(0, 4)\n              : 'No release date';\n\n            return (\n              <li key={id}>\n                <Link to={`/movies/${id}`} state={{ from: location }}>\n                  <Box display=\"flex\" gridGap={10}>\n                    <img\n                      src={imgUrl}\n                      alt={`Movie poster of ${title}`}\n                      loading=\"lazy\"\n                      data-id={id}\n                      width={200}\n                    />\n                    <div>\n                      <h2>{title}</h2>\n                      <p>{release}</p>\n                    </div>\n                  </Box>\n                </Link>\n              </li>\n            );\n          })}\n      </Box>\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '48c8290358fa5316a044ddee2fc9cc6f';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchMoviesByQuery = async query => {\n  try {\n    const response = await axios.get(\n      `/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchMovieById = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.error(error.message);\n  }\n};\n\nexport const fetchMovieCreditsById = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport const fetchMovieReviewsById = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst api = {\n  fetchTrendingMovies,\n  fetchMoviesByQuery,\n  fetchMovieById,\n  fetchMovieCreditsById,\n  fetchMovieReviewsById,\n};\n\nexport default api;\n"],"names":["Box","styled","typography","space","color","layout","flexbox","grid","useState","movieList","setMovieList","useSearchParams","searchParams","setSearchParams","get","movieName","setMovieName","location","useLocation","useEffect","getMovies","api","movies","handleFormSubmit","e","preventDefault","nextParams","query","onSubmit","type","autoComplete","autoFocus","placeholder","value","onChange","name","target","toLowerCase","trim","as","display","flexDirection","gridGap","mt","map","id","title","poster_path","release_date","imgUrl","release","slice","to","state","from","src","alt","loading","width","API_KEY","axios","fetchTrendingMovies","response","data","results","console","error","fetchMoviesByQuery","fetchMovieById","message","fetchMovieCreditsById","fetchMovieReviewsById"],"sourceRoot":""}